{"ast":null,"code":"var _jsxFileName = \"/home/mustapha/react-test/Tracking-user-activity-in-Ecom-website/src/Categories/Cards/Card.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './Card.css';\nimport Data from '../../Data/data';\nimport { useCategory } from '../CategoryContext';\nimport BestSellers from '../Bestsellers/BestSellers';\nimport DailogItem from '../../DailogItem/DailogItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Card = () => {\n  _s();\n  const {\n    activeCategory\n  } = useCategory();\n  const filteredData = Data.filter(product => product.category === activeCategory);\n  const [open, setOpen] = useState(false);\n  const info_1 = {\n    title: \"Fashion Titanium Steel Colorfast Thick Chain Cuban Chain Necklace-Silver BY ELITE WORLD\",\n    category: \"Men\",\n    old_price: \"49.99 Dhs\",\n    new_price: \"37.49 Dhs\",\n    Disponible: \"Disponible\",\n    desc: \"livraison à partir de 9.00 Dhs vers CASABLANCA - Anfa\"\n  };\n  const [info, setInfo] = useState(info_1);\n  const l = {};\n  Data.map(el => {\n    l[el.id] = false;\n  });\n  const [liked, setLike] = useState(l);\n  const changeHeart = id => {\n    Data.map(product => {\n      if (product.id === id) {\n        setLike(ex => {\n          return {\n            ...ex,\n            [id]: !ex[id]\n          };\n        });\n      }\n    });\n  };\n  const handleClickOpen = id => {\n    Data.map(product => {\n      if (product.id === id) {\n        setInfo(ex => {\n          return {\n            ...ex,\n            \"id\": product.id,\n            \"title\": product.name,\n            \"category\": product.category,\n            \"new_price\": `${product.price} Dh`,\n            \"Disponible\": product.Disponible,\n            \"old_price\": `${product.old_price} Dh`,\n            \"desc\": product.desc,\n            \"image\": product.image\n          };\n        });\n      }\n      setOpen(true);\n    });\n  };\n  useEffect(async () => {\n    try {\n      const response = await fetch('http://127.0.0.1:5000/api/send_click', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n          // You may need to include additional headers, such as authorization tokens\n        },\n        body: JSON.stringify(info)\n      });\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      const result = await response.json();\n      console.log(result);\n    } catch (error) {\n      console.error(error);\n    }\n    console.log(info);\n  }, [info]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"cards\",\n      className: \"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 justify-center pl-[15rem] pr-[15rem] pt-[5rem] \",\n      children: filteredData.map(product => /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#dolce-gabbana-cropped\",\n        className: \"product-card m-4 p-4 border\",\n        onClick: () => handleClickOpen(product.id),\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"product-card__image mb-2 max-w-full h-auto\",\n          src: product.image,\n          alt: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"product-card__brand\",\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"product-card__price\",\n          children: [\"$\", product.price.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `product-card__btn-wishlist z-20 ${liked[product.id] ? 'wishlist-clicked' : ''}`,\n          onClick: event => {\n            event.stopPropagation();\n            changeHeart(product.id);\n          },\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            viewBox: \"0 0 18 16\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M9.01163699,14.9053769 C8.72930024,14.7740736 8.41492611,14.6176996 8.07646224,14.4366167 C7.06926649,13.897753 6.06198912,13.2561336 5.12636931,12.5170512 C2.52930452,10.4655288 1.00308384,8.09476443 1.00000218,5.44184117 C0.997549066,2.99198843 2.92175104,1.01242822 5.28303025,1.01000225 C6.41066623,1.00972036 7.49184369,1.4629765 8.28270844,2.2678673 L8.99827421,2.9961237 L9.71152148,2.26559643 C10.4995294,1.45849728 11.5791258,1.0023831 12.7071151,1.00000055 L12.7060299,1.00000225 C15.0693815,0.997574983 16.9967334,2.97018759 17.0000037,5.421337 C17.0038592,8.07662382 15.4809572,10.4530151 12.8850542,12.5121483 C11.9520963,13.2521931 10.9477036,13.8951276 9.94340074,14.4354976 C9.60619585,14.6169323 9.29297309,14.7736855 9.01163699,14.9053769 Z\",\n              strokeWidth: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, product.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }, this), open && /*#__PURE__*/_jsxDEV(DailogItem, {\n      open: open,\n      setOpen: setOpen,\n      info: info,\n      changeHeart: changeHeart,\n      liked: liked\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"best-sellers pt-[5rem]\",\n      children: /*#__PURE__*/_jsxDEV(BestSellers, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 1\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n_s(Card, \"d4kwex39w1qlhLZFV0Vp91Gte2s=\", false, function () {\n  return [useCategory];\n});\n_c = Card;\nexport default Card;\nvar _c;\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"names":["React","useState","useEffect","Data","useCategory","BestSellers","DailogItem","jsxDEV","_jsxDEV","Fragment","_Fragment","Card","_s","activeCategory","filteredData","filter","product","category","open","setOpen","info_1","title","old_price","new_price","Disponible","desc","info","setInfo","l","map","el","id","liked","setLike","changeHeart","ex","handleClickOpen","name","price","image","response","fetch","method","headers","body","JSON","stringify","ok","Error","result","json","console","log","error","children","className","href","onClick","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","event","stopPropagation","viewBox","xmlns","d","strokeWidth","_c","$RefreshReg$"],"sources":["/home/mustapha/react-test/Tracking-user-activity-in-Ecom-website/src/Categories/Cards/Card.jsx"],"sourcesContent":["import React ,{useState, useEffect} from 'react';\nimport './Card.css';\nimport Data from '../../Data/data';\nimport { useCategory } from '../CategoryContext';\nimport BestSellers from '../Bestsellers/BestSellers';\nimport DailogItem from '../../DailogItem/DailogItem'\nconst Card = () => {\n    const { activeCategory } = useCategory();\n    const filteredData = Data.filter((product) => product.category === activeCategory);  \n    const [open, setOpen] = useState(false);\n  const info_1 = {\n    title: \"Fashion Titanium Steel Colorfast Thick Chain Cuban Chain Necklace-Silver BY ELITE WORLD\",\n    category: \"Men\",\n    old_price: \"49.99 Dhs\",\n    new_price: \"37.49 Dhs\",\n    Disponible: \"Disponible\",\n    desc: \"livraison à partir de 9.00 Dhs vers CASABLANCA - Anfa\",\n  }\n  const [info, setInfo] = useState(info_1)\n  const l = {}\n  Data.map(el => {\n    l[el.id] = false\n  })\n  const [liked, setLike] = useState(l)\n\n  const changeHeart = (id) =>{\n    Data.map((product) =>{\n      if (product.id === id){\n        setLike(ex => {return {...ex, [id]: !ex[id]}})\n      }\n    })\n  }\n  \n\n  const handleClickOpen = (id) => {\n    Data.map((product) =>{\n      if (product.id === id){\n        setInfo((ex) =>{\n          return {...ex,\n            \"id\": product.id, \n            \"title\" : product.name, \"category\": product.category, \n            \"new_price\":`${product.price} Dh`,\n            \"Disponible\": product.Disponible,\n            \"old_price\": `${product.old_price} Dh`,\n            \"desc\": product.desc,\n            \"image\": product.image,\n          }\n        })\n      }\n      setOpen(true);\n    })\n\n  };\n  useEffect(async()=>{\n    \n    try {\n      const response = await fetch('http://127.0.0.1:5000/api/send_click', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          // You may need to include additional headers, such as authorization tokens\n        },\n        body: JSON.stringify(info),\n      });\n\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n\n      const result = await response.json();\n      console.log(result)\n    } catch (error) {\n      console.error(error)\n    }\n    console.log(info)\n\n  }, [info])\n  \n    return (\n      <>\n    <div id='cards' className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 justify-center pl-[15rem] pr-[15rem] pt-[5rem] \">\n      {filteredData.map((product) => (\n        <a\n          key={product.id}\n          href=\"#dolce-gabbana-cropped\"\n          className=\"product-card m-4 p-4 border\"\n          onClick={()=>handleClickOpen(product.id)}\n        >\n          <img className=\"product-card__image mb-2 max-w-full h-auto\" src={product.image} alt={product.name} />\n          <p className=\"product-card__brand\">{product.name}</p>\n          <p className=\"product-card__price\">${product.price.toFixed(2)}</p>\n          <button \n           className={`product-card__btn-wishlist z-20 ${liked[product.id] ? 'wishlist-clicked' : ''}`}\n           onClick={(event) => {\n            event.stopPropagation();\n            changeHeart(product.id)}\n          }\n          \n          >\n            <svg viewBox=\"0 0 18 16\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path\n                d=\"M9.01163699,14.9053769 C8.72930024,14.7740736 8.41492611,14.6176996 8.07646224,14.4366167 C7.06926649,13.897753 6.06198912,13.2561336 5.12636931,12.5170512 C2.52930452,10.4655288 1.00308384,8.09476443 1.00000218,5.44184117 C0.997549066,2.99198843 2.92175104,1.01242822 5.28303025,1.01000225 C6.41066623,1.00972036 7.49184369,1.4629765 8.28270844,2.2678673 L8.99827421,2.9961237 L9.71152148,2.26559643 C10.4995294,1.45849728 11.5791258,1.0023831 12.7071151,1.00000055 L12.7060299,1.00000225 C15.0693815,0.997574983 16.9967334,2.97018759 17.0000037,5.421337 C17.0038592,8.07662382 15.4809572,10.4530151 12.8850542,12.5121483 C11.9520963,13.2521931 10.9477036,13.8951276 9.94340074,14.4354976 C9.60619585,14.6169323 9.29297309,14.7736855 9.01163699,14.9053769 Z\"\n                strokeWidth=\"2\"\n              />\n            </svg>\n          </button>\n        </a>\n      ))}\n\n       \n\n    </div>\n    {open && <DailogItem open={open} setOpen={setOpen} info={info} changeHeart={changeHeart} liked={liked} />}\n    <div className='best-sellers pt-[5rem]'>\n\n<BestSellers />\n\n</div>\n </>\n  )\n}\n\nexport default Card\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}